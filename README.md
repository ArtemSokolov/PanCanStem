# PanCanStem: Reproducing mRNAsi from PMID: 29625051

The code reproduces mRNA-based stemness indices (mRNAsi) from _"Machine Learning Identifies Stemness Features Associated with Oncogenic Dedifferentiation"_ by Malta, Sokolov, et al.

**Prerequisites:**
* Install [Docker](https://docs.docker.com/get-docker/)
* Sign up for a [synapse.org](https://www.synapse.org/) account and ensure that you have access to:
  * [syn2701943](https://www.synapse.org/#!Synapse:syn2701943) - normalized mRNA data from PCBC (used to learn the stemness signature)
  * [syn4976369](https://www.synapse.org/#!Synapse:syn4976369) - normalized and batch-corrected PanCan33 data

Download all relevant data with

```
docker run --rm -v "$PWD":/data artemsokolovdh/pancanstem /app/get-data.R <Synapse Username> '<Synapse Password>'
```
where
* `--rm` will clean up the container after it finishes running
* `-v "$PWD":/data` makes the current working directory to be `/data/` inside the container
* `artemsokolovdh/pancanstem` is the container, currently hosted on DockerHub
* The source code of `/app/get-data.R` can be found in this GitHub repo
* **Important:** `<Synapse Password>` must be enclosed by quotes to ensure that special characters are handled properly

Once the script finishes, you will find two folders, `PCBC` and `PanCan33`, containing downloaded data. From here, the stemness signature and indices can be generated by running

```
docker run --rm -v "$PWD":/data artemsokolovdh/pancanstem /app/main.R
```

The output from this operation can be found in the output/ directory.
